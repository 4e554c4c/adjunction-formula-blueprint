\maketitle

\begin{remark}
	This text is based on the lecture notes on Analytic Geometry~\cite{Analytic},
	by Peter Scholze.
  The final section is copy-pasted from those lecture notes almost verbatim.
  This text is meant as a blueprint for the Liquid Tensor Experiment.
\end{remark}

\section{Breen--Deligne data}

The goal of this section is to a give a precise statement of the Breen--Deligne resolution.
We first give the statement, and provide details later.

\begin{theoremx}[Breen--Deligne]
  \label{BD_orig}
  For an abelian group $A$, there is a resolution, functorial in~$A$, of the form
  \[
    \ldots \to \bigoplus_{i=1}^{n_i} \mathbb Z[A^{r_{ij}}] \to \ldots
    \to \mathbb Z[A^3] \oplus \mathbb Z[A^2] \to \mathbb Z[A^2] \to \mathbb Z[A] \to A \to 0.
  \]
\end{theoremx}

I (Johan Commelin) have not figured out the details.
But it seems to be possible to avoid the $\bigoplus_{i=1}^{n_i}$,
so we will aim for something like the following statement.

\begin{theoremx}
  \label{BD_reso}
  For an abelian group $A$, there is a resolution, functorial in~$A$, of the form
  \[
    \ldots \to \mathbb Z[A^{n_{i}}] \to \ldots \to \mathbb Z[A^2] \to \mathbb Z[A] \to A \to 0.
  \]
\end{theoremx}

What does a homomorphism $f \colon \mathbb Z[A^m] \to \mathbb Z[A^n]$
that is functorial in~$A$ look like?

Well, such a ``universal map'' is specified
by what it does to the generators $(a_1, a_2, a_3, \dots, a_m)$.
It can send such an element to an arbitrary element of $\mathbb Z[A^n]$,
but it has to be ``universal''.

In the end, this means that $f$ will be a $\mathbb Z$-linear combination of
``basic universal maps'', where a ``basic universal map'' is one that
sends $(a_1, a_2, \dots, a_m)$ to $(b_1, \dots, b_n)$,
where $b_i$ is a $\mathbb Z$-linear combination $c_{i,1} \cdot a_1 + \dots + c_{i,m} \cdot a_m$.
So a ``basic universal map'' is specified by the $n \times m$-matrix $c$.

\begin{definition}
  \label{basic_universal_map}
  \lean{breen_deligne.basic_universal_map}
  \leanok
  A \emph{basic universal map} from exponent $m$ to $n$,
  is an $n \times m$-matrix with coefficients in~$\mathbb Z$.
\end{definition}

\begin{definition}
  \label{universal_map}
  \lean{breen_deligne.universal_map}
  \leanok
  \uses{basic_universal_map}
  A \emph{universal map} from exponent $m$ to $n$,
  is a formal $\mathbb Z$-linear combination of basic universal maps from exponent $m$ to $n$.
\end{definition}

We point out that basic universal maps can be composed by matrix multiplication,
and this formally induces a composition of universal maps.

\begin{definition}
  \label{sigma_add}
  \lean{breen_deligne.σ_add}
  \leanok
  \uses{universal_map}
  The addition on $A^n$ induces a universal map
  $\sigma_\alpha \colon \mathbb Z[(A^n)^2] \to \mathbb Z[A^n]$,
  namely the formal generator $(I_n I_n)$, where $I_n$ denotes the $n \times n$ identity matrix.
  (Here $\alpha$ stands for ``addition''.)
\end{definition}

\begin{definition}
  \label{sigma_proj}
  \lean{breen_deligne.σ_proj}
  \leanok
  \uses{universal_map}
  The formal sum of the two projections $(A^n)^2 \to A^n$
  induces a universal map $\sigma_\pi \colon \mathbb Z[(A^n)^2] \to \mathbb Z[A^n]$,
  namely the formal sum $(I_n 0) + (0 I_n)$,
  where $I_n$ denotes the $n \times n$ identity matrix, and $0$ the $n \times n$ zero matrix.
  (Here $\pi$ stands for ``projections''.)
\end{definition}

\begin{definition}
  \label{BD_double}
  \lean{breen_deligne.universal_map.double}
  \leanok
  \uses{universal_map}
  Let $f$ be a universal map from exponent~$m$ to~$n$.
  Then $f \oplus f$ denotes the universal map from exponent~$2m$ to~$2n$,
  that applies $f$ componentwise.
  If $f$ is a generator (i.e.\ a basic universal map)
  then $f \oplus f$ is
  \[
    \begin{pmatrix}
    f & 0 \\
    0 & f
    \end{pmatrix}.
  \]
\end{definition}

\begin{definition}
  \label{BD_data}
  \lean{breen_deligne.data}
  \lean{breen_deligne.is_complex}
  \leanok
  \uses{sigma_add, sigma_proj}
  A tuple $(n, f)$ of \emph{Breen--Deligne data}
  consists of a sequence of exponents $n_0, n_1, n_2, \dots \in \mathbb N$,
  and universal maps $f_i$ from exponent $n_{i+1}$ to $n_i$.

  Such a tuples is a \emph{complex} if for all $i$ we have $f_i \circ f_{i+1} = 0$.
\end{definition}

\begin{definition}
  \label{BD_data_double}
  % There is no corresponding Lean code. Maybe we should add it.
  \uses{BD_data, BD_double}
  If $(n, f)$ is a tuple of Breen--Deligne data,
  then $(n, f) \oplus (n, f)$ is the tuple
  consisting of exponents $2n_i$ and universal maps $f_i \oplus f_i$.
\end{definition}

The two universal map $\sigma_\alpha$ and~$\sigma_\pi$ explained in the examples above,
can be viewed as universal maps of complexes: $(n,f) \oplus (n,f) \to (n,f)$.

\begin{definition}
  \label{BD_homotopy}
  \lean{breen_deligne.homotopy}
  \leanok
  \uses{BD_data, BD_double}
  A \emph{homotopy} for a tuple $(n, f)$ of Breen--Deligne data
  is a homotopy between the maps of complexes
  \[
    \sigma_\alpha, \sigma_\pi \colon (n,f) \oplus (n,f) \to (n,f)
  \]
  In other words, it consists of universal maps $h_i$ from exponent $2n_i$ to $n_{i+1}$,
  such that
  \[
    f_{i+1} \circ h_{i+1} + h_i \circ (f_i \oplus f_i) = \sigma_\alpha - \sigma_\pi.
  \]
\end{definition}

\begin{definition}
  \label{BD_package}
  \lean{breen_deligne.package}
  \leanok
  \uses{BD_data, BD_homotopy}
  A \emph{Breen--Deligne package}
  is a triple $(n, f, h)$,
  such that $(n, f)$ is Breen--Deligne data that is a complex,
  and $h$ is a homotopy for $(n,f)$.
\end{definition}

\begin{definition}
  \label{BD_eg}
  \lean{breen_deligne.eg}
  \leanok
  \uses{BD_package}
  We will now construct an example of a Breen--Deligne package.
  In some sense, it is the ``easiest'' solution to the conditions posed above.
  The exponents will be $n_i = 2^i$, and the homotopies $h_i$ will be the identity.
  Under these constraints, we inductively construct the universal maps $f_i$:
  \[
    f_0 = \sigma_\alpha - \sigma_\pi,
    \quad
    f_{i+1} = (\sigma_\alpha - \sigma_\pi) - (f_i \oplus f_i).
  \]
  We leave it as exercise for the reader, to verify that
  with these definitions $(n, f, h)$ forms a Breen--Deligne package.
\end{definition}

We now make three definitions that will make precise
some conditions between constants that will be needed
when we construct Breen--Deligne complexes of normed abelian groups.

\begin{definition}
  \label{basic_suitable}
  \lean{breen_deligne.basic_universal_map.suitable}
  \leanok
  \uses{basic_universal_map}
  Let $f$ be a basic universal map from exponent~$m$ to~$n$.
  Let $c_1, c_2 \in \mathbb R_{\ge 0}$.
  We say that $(c_1, c_2)$ is \emph{$f$-suitable}, if for all $i$
  \[
    \sum_j c_1|f_{ij}| \le c_2.
  \]
\end{definition}

\begin{definition}
  \label{universal_suitable}
  \lean{breen_deligne.universal_map.suitable}
  \leanok
  \uses{universal_map, basic_suitable}
  Let $f$ be a universal map from exponent~$m$ to~$n$.
  Let $c_1, c_2 \in \mathbb R_{\ge 0}$.
  We say that $(c_1, c_2)$ is \emph{$f$-suitable}, if for all basic universal maps $g$
  that occur in the formal sum $f$,
  the pair of nonnegative reals $(c_1, c_2)$ is $g$-suitable.
\end{definition}

\begin{definition}
  \label{BD_suitable}
  \lean{breen_deligne.package.suitable}
  \leanok
  \uses{BD_package, universal_suitable}
  Let $(n, f, h)$ be a Breen--Deligne package,
  and let $c = (c_0, c_1, \dots)$ be a sequence of nonnegative real numbers.
  We say that $c$ is \emph{$(n,f,h)$-suitable},
  if for all $i$, the pair $(c_{i+1}, c_i)$ is $f_i$-suitable.

  (Note! The order $(c_{i+1}, c_i)$ is contravariant
  compared to Definition~\ref{universal_suitable}.
  This is because of the contravariance of $\hat V(\_)$;
  see Definition~\ref{Vhat_eval_Mbar_Tinv}.)
\end{definition}

\section{Spaces of convergent power series}

\begin{definition}
  \label{pseudo_normed_group}
  \lean{pseudo_normed_group}
  \leanok
  A \emph{pseudo-normed group} is an abelian group $A$,
  together with an increasing filtration $A_c \subseteq A$ of subsets $A_c$ indexed by $\mathbb R_{\ge 0}$,
  such that each $A_c$ contains $0$, is closed under negation,
  and $A_{c_1} + A_{c_2} \subseteq A_{c_1 + c_2}$.
\end{definition}

\begin{definition}
  \label{Mbar}
  \lean{Mbar}
  \leanok
  Let $r > 0$ be a real number, and let $S$ be a finite set.
  Denote by $\overline{\mathcal M}_r(S)$ the set
  \[
    \left\{ \left( \sum_{n \ge 1} a_{n,s} T^n \right)_{s \in S} \,\middle\vert\, \sum_{n \ge 1, s \in S} |a_{n,s}| r^n < \infty \right\}
  \]
\end{definition}

\begin{definition}
  \label{Mbar_le}
  \lean{Mbar_le}
  \leanok
  Let $r > 0$ and $c \ge 0$ be real numbers, and let $S$ be a finite set.
  Denote by $\overline{\mathcal M}_r(S)_{\le c}$ the set
  \[
    \left\{ \left( \sum_{n \ge 1} a_{n,s} T^n \right)_{s \in S} \middle\vert \sum_{n \ge 1, s \in S} |a_{n,s}| r^n \le c \right\}
  \]
\end{definition}

\begin{lemma}
  \label{Mbar_png}
  \lean{Mbar.pseudo_normed_group}
  \leanok
  \uses{pseudo_normed_group,Mbar,Mbar_le}
  The space $\overline{\mathcal M}_r(S)$ is a pseudo-normed group,
  with filtration $\overline{\mathcal M}_r(S)_{\le c}$.
\end{lemma}

\begin{proof}
  \leanok
  Obvious.
\end{proof}

\begin{lemma}
  \label{Mbar_le_profinite}
  \lean{Mbar_le.eqv}
  \leanok
  \uses{Mbar_le}
  Let $r > 0$ and $c \ge 0$ be real numbers, and let $S$ be a finite set.
  The space $\overline{\mathcal M}_r(S)_{\le c}$ is the profinite limit of the finite sets
  \[
    \overline{\mathcal M}_r(S)_{\le c, \le N} =
    \left\{ \left( \sum_{n \ge 1} a_{n,s} T^n \right)_{s \in S} \middle\vert
    \sum_{1 \le n \le N, s \in S} |a_{n,s}| r^n \le c \right\}
  \]
  This endows $\overline{\mathcal M}_r(S)_{\le c}$ with the profinite topology.
\end{lemma}

\begin{proof}
  \leanok
  Formalised, but omitted from this text.
\end{proof}

For the remainder of this section,
let $r > 0, c \ge 0$ be real numbers,
and let $S$ be a finite set.

\begin{definition}
  \label{Mbar_Tinv}
  \lean{Mbar.Tinv}
  \leanok
  \uses{Mbar}
  There is a natural action of $T^{-1}$ on $\overline{\mathcal M}_r(S)$, via
  \[
    T^{-1} \cdot
    \left( \sum_{n \ge 1} a_{n,s} T^n \right)_{s \in S} =
    \left( \sum_{n \ge 1} a_{n+1,s} T^n \right)_{s \in S}.
  \]
\end{definition}

\begin{definition}
  \label{Mbar_le_Tinv}
  \lean{Mbar_le.Tinv}
  \leanok
  \uses{Mbar_le, Mbar_Tinv}
  The natural action of $T^{-1}$ on $\overline{\mathcal M}_r(S)$ restricts to maps
  \[
    T^{-1} \cdot \_ \colon
    \overline{\mathcal M}_r(S)_{\le c} \to
    \overline{\mathcal M}_r(S)_{\le c'}
  \]
  for all $c' \ge c/r$.
\end{definition}

\begin{lemma}
  \label{Mbar_le_Tinv_ctu}
  \lean{Mbar_le.continuous_Tinv}
  \leanok
  \uses{Mbar_le_profinite, Mbar_Tinv}
  For all $c' \ge c/r$, the natural maps
  \[
    T^{-1} \cdot \_ \colon
    \overline{\mathcal M}_r(S)_{\le c} \to
    \overline{\mathcal M}_r(S)_{\le c'}
  \]
  are continuous.
\end{lemma}

\begin{proof}
  \leanok
  Formalised, but omitted from this text.
\end{proof}

\begin{lemma}
  \label{basic_eval_Mbar}
  \lean{breen_deligne.basic_universal_map.eval_png_mem_filtration}
  \leanok
  \uses{Mbar, basic_universal_map}
  Let $f$ be a basic universal map from exponent~$m$ to~$n$.
  We get an induced homomorphism of pseudo-normed groups
  \[
    \overline{\mathcal M}_r(S)^m \to \overline{\mathcal M}_r(S)^n
  \]
  bounded by the maximum (over all $i$) of $\sum_j |f_{ij}|$,
  where the $f_{ij}$ are the coefficients of the $n \times m$-matrix representing~$f$.
\end{lemma}

\begin{proof}
  \leanok
  Omitted.
\end{proof}

\begin{lemma}
  \label{basic_eval_Mbar_le_ctu}
  \lean{breen_deligne.basic_universal_map.eval_Mbar_le_continuous}
  \leanok
  \uses{Mbar_le_profinite, Mbar_png, basic_suitable, basic_eval_Mbar}
  Let $f$ be a basic universal map from exponent~$m$ to~$n$,
  and let $(c_1, c_2)$ be $f$-suitable.
  We get an induced map
  \[
    \overline{\mathcal M}_r(S)_{\le c_1}^m \to \overline{\mathcal M}_r(S)_{\le c_2}^n
  \]
  that is continuous.
\end{lemma}

\begin{proof}
  \leanok
  Formalised, but omitted from this text.
\end{proof}

\section{Completions of locally constant functions}

\begin{definition}
  \label{Vhat}
  \lean{NormedGroup.LCC}
  \leanok
  Let $V$ be a normed abelian group, and $X$ a compact topological space.
  We denote by $\hat V(X)$ the completion
  of the normed abelian group of locally constant functions $X \to V$
  with respect to the sup norm.

  This construction is functorial in bounded group homomorphisms $V \to V'$
  and contravariantly functorial in continuous maps $X \to X'$.
\end{definition}

We continue to use the notation of before:
let $r > 0, c \ge 0$ be real numbers, and let $S$ be a finite set.

\begin{definition}
  \label{Vhat_basic_eval_Mbar}
  \lean{breen_deligne.basic_universal_map.eval_Mbar_pow}
  \leanok
  \uses{basic_eval_Mbar_le_ctu, Vhat}
  Let $f$ be a basic universal map from exponent~$m$ to~$n$,
  and let $(c_1, c_2)$ be $f$-suitable.
  We get an induced map
  \[
    \hat V(f) \colon
    \hat V(\overline{\mathcal M}_r(S)_{\le c_1}^m) \to
    \hat V(\overline{\mathcal M}_r(S)_{\le c_2}^n).
  \]
\end{definition}

\begin{definition}
  \label{Vhat_eval_Mbar}
  \lean{breen_deligne.universal_map.eval_Mbar_pow}
  \leanok
  \uses{universal_suitable, Vhat_basic_eval_Mbar}
  Let $f$ be a universal map from exponent~$m$ to~$n$,
  and let $(c_1, c_2)$ be $f$-suitable.
  We get an induced map
  \[
    \hat V(f) \colon
    \hat V(\overline{\mathcal M}_r(S)_{\le c_1}^m) \to
    \hat V(\overline{\mathcal M}_r(S)_{\le c_2}^n)
  \]
  that is the sum $\sum n_g V(g)$,
  if $f$ is the formal sum $\sum n_g g$
  of basic universal maps.
\end{definition}

\begin{definition}
  \label{normed_with_aut}
  \lean{normed_with_aut}
  \leanok
  Let $r > 0$ be a real number.
  An \emph{$r$-normed $\mathbb Z[T^{\pm 1}]$-module}
  is a normed abelian group $V$
  endowed with an automorphism $T \colon V \to V$ such that
  for all $v \in V$ we have $\|T(v)\| = r\|v\|$.
\end{definition}

\begin{lemma}
  \label{Vhat_normed_with_aut}
  \lean{NormedGroup.normed_with_aut_LCC}
  \leanok
  \uses{Vhat, normed_with_aut}
  Let $r \in \mathbb R_{\ge 0}$,
  and let $V$ be an $r$-normed $\mathbb Z[T^{\pm 1}]$-module.
  Let $X$ be a compact space.
  Then $\hat V(X)$ is naturally an $r$-normed $\mathbb Z[T^{\pm 1}]$-module,
  with the action of $T$ given by post-composition.
\end{lemma}

\begin{proof}
  \leanok
  Formalised, but omitted from this text.
\end{proof}

\begin{definition}
  \label{Vhat_Mbar_Tinv}
  \lean{LCC_Mbar_pow_Tinv}
  \leanok
  \uses{Mbar_le_Tinv_ctu, Vhat_normed_with_aut}
  Let $r > 0$, $r' > 0$, $c \ge 0$ be real numbers.
  and let $V$ be an $r$-normed $\mathbb Z[T^{\pm 1}]$-module.
  Assume $r' \le 1$.
  Let $S$ be a finite set.

  There are two natural actions of $T^{-1}$ on
  $\hat V(\overline{\mathcal M}_{r'}(S)_{\le c})$.
  The first comes from Definition~\ref{Mbar_le_Tinv},
  which gives a continuous map
  \[
    \overline{\mathcal M}_{r'}(S)_{\le cr'} \to
    \overline{\mathcal M}_{r'}(S)_{\le c}
  \]
  and thus a map
  \[
    (T^{-1})^* \colon
    \hat V(\overline{\mathcal M}_{r'}(S)_{\le c}) \to
    \hat V(\overline{\mathcal M}_{r'}(S)_{\le cr'}).
  \]
  The other comes from Lemma~\ref{Vhat_normed_with_aut},
  using the $r$-normed $\mathbb Z[T^{\pm 1}]$-module $V$.
  We get a map
  \[
    [T^{-1}] \colon
    \hat V(\overline{\mathcal M}_{r'}(S)_{\le c}) \to
    \hat V(\overline{\mathcal M}_{r'}(S)_{\le c}),
  \]
  that we can compose with the map
  \[
    \hat V(\overline{\mathcal M}_{r'}(S)_{\le c}) \to
    \hat V(\overline{\mathcal M}_{r'}(S)_{\le cr'}),
  \]
  obtained from the natural inclusion
  \[
    \overline{\mathcal M}_{r'}(S)_{\le cr'} \to
    \overline{\mathcal M}_{r'}(S)_{\le c}.
  \]
  We thus end up with two maps
  \[
    (T^{-1})^*, [T^{-1}] \colon
    \hat V(\overline{\mathcal M}_{r'}(S)_{\le c}) \to
    \hat V(\overline{\mathcal M}_{r'}(S)_{\le cr'}).
  \]
  and we define
  $\hat V(\overline{\mathcal M}_{r'}(S)_{\le c})^{T^{-1}}$
  to be the equalizer of $(T^{-1})^*$ and $[T^{-1}]$.
  In other words, the kernel of $(T^{-1})^* - [T^{-1}]$.
\end{definition}

\begin{definition}
  \label{Vhat_eval_Mbar_Tinv}
  \lean{breen_deligne.universal_map.eval_Mbar_pow_Tinv}
  \leanok
  \uses{Vhat_Mbar_Tinv, Vhat_eval_Mbar}
  Let $r, r' \in \mathbb R_{>0}$,
  and let $V$ be an $r$-normed $\mathbb Z[T^{\pm 1}]$-module.
  Assume $r' \le 1$.
  Let $S$ be a finite set.
  Let $f$ be a universal map from exponent~$m$ to~$n$,
  and let $(c_1, c_2)$ be $f$-suitable.

  The natural map from Definition~\ref{Vhat_eval_Mbar}
  restricts to a map
  \[
    \hat V(f)^{T^{-1}} \colon
    \hat V(\overline{\mathcal M}_{r'}(S)_{\le c_2}^n)^{T^{-1}} \to
    \hat V(\overline{\mathcal M}_{r'}(S)_{\le c_1}^m)^{T^{-1}}
  \]
\end{definition}

\section{Some normed homological algebra}%
\label{sec:some_normed_homological_algebra}


\begin{definition}
  \label{system_of_complexes}
  \lean{system_of_complexes}
  \leanok
  A \emph{system of complexes} of normed abelian groups
  is for each sufficiently large $c$ (i.e.~all $c\geq c_0$ for some $c_0>0$),
  a complex
  \[
  C_c^\bullet: C_c^0\to C_c^1\to\ldots
  \]
  of normed abelian groups together with maps of complexes
  $\mathrm{res}_{c',c}^i: C_{c'}^\bullet\to C_c^\bullet$,
  for $c' ≥ c$,
  satisfying the obvious associativity condition.
\end{definition}

By convention, for every system of complexes $C$, we will set $C^{-1}_c = 0$ for all $c$.
This will come up each time we write $C^{i-1}_c$ and $i$ could be $0$.

In this section, given $x ∈ C^•_{c'}$ and $c ≤ c'$ we will use the notation
$x_{|c} := \mathrm{res}_{c', c}(x)$.

\begin{definition}
  \label{admissible}
  \lean{system_of_complexes.admissible}
  \leanok
  \uses{system_of_complexes}
  A system of complexes is \emph{admissible}
  if all differentials and maps $\mathrm{res}_{c',c}^i$ are norm-nonincreasing.
\end{definition}

\begin{definition}
  \label{is_bounded_exact}
  \lean{system_of_complexes.is_bounded_exact}
  \leanok
  \uses{system_of_complexes}
  Let $(C_c^\bullet)_c$ be a system of complexes.
  For integers $m\geq 0$ and constants $k \ge 1$, $c_0'>0$,
  the datum $(C_c^\bullet)_c$ is
  \emph{$\leq k$-exact in degrees $\leq m$ and for $c\geq c_0'$ with bound $K$} if the following condition is satisfied.
  For all $c\geq c_0'$ and all $x\in C_{kc}^i$ with $i\leq m$
  there is some $y\in C_c^{i-1}$ such that
  \[
    ‖x_{|c} - dy‖ ≤ K ‖dx‖.
  \]
\end{definition}

We will also need a version where the inequality is relaxed by some arbitrary small additive constant.

\begin{definition}
  \label{is_weak_bounded_exact}
  \lean{system_of_complexes.is_weak_bounded_exact}
  \leanok
  \uses{system_of_complexes}
  Let $(C_c^\bullet)_c$ be a system of complexes.
  For integers $m\geq 0$ and constants $k \ge 1$, $c_0'>0$,
  the datum $(C_c^\bullet)_c$ is
  \emph{weakly $\leq k$-exact in degrees $\leq m$ and for $c\geq c_0'$ with bound $K$} if the following condition is satisfied.
  For all $c\geq c_0'$, all $x\in C_{kc}^i$ with $i\leq m$ and any $ε > 0$
  there is some $y\in C_c^{i-1}$ such that
  \[
    ‖x_{|c} - dy‖ ≤ K ‖dx‖ + ε.
  \]
\end{definition}

We first note that the difference between those two definitions is only about cocyles if we are ready to loose
a tiny something on the norm bound $K$.

\begin{lemma}
  \label{is_bounded_exact_of_weakly}
  \lean{system_of_complexes.is_weak_bounded_exact.to_exact}
  \uses{is_bounded_exact, is_weak_bounded_exact}
  Let $(C_c^\bullet)_c$ be a system of complexes. If $(C_c^\bullet)_c$ is
  weakly $\leq k$-exact in degrees $\leq m$ and for $c\geq c_0'$ with bound $K$ and if,
  for all $c\geq c_0'$ and all $x\in C_{kc}^i$ with $i\leq m$ such that $dx = 0$
  there is some $y\in C_c^{i-1}$  such that
  $x_{|c} = dy$ then, for every positive $δ$,
  $(C_c^\bullet)_c$ is $\leq k$-exact in degrees $\leq m$ and for $c\geq c_0'$ with
  bound $K + δ$.
\end{lemma}

\begin{proof}
  Let $δ$ be some positive real number.
  Let $x$ be an element of $C_{kc}^i$ for some $c ≥ c₀'$ and $i ≤ m$. If $dx = 0$
  then the assumption we made about exact elements is exactly what we want.

  Assume now that $dx ≠ 0$. The weak exactness assumption applied to $ε = δ‖dx‖$
  gives some $y\in C_c^{i-1}$ such that
  \begin{align*}
    ‖x_{|c} - dy‖ &≤ K‖dx‖ + δ‖dx‖ \\
                  &= (K + δ)‖dx‖
  \end{align*}
\end{proof}

A more important observation is that, in both definitions, we can also ask some
control on the norm of $y$ if we are ready to square the restriction depth factor $k$.

\begin{lemma}
  \label{is_weak_bdd_exact_controlled_y}
  \uses{ is_weak_bounded_exact}
  \lean{system_of_complexes.is_weak_bounded_exact.controlled_y}
  Let $(C_c^\bullet)_c$ be a system of complexes which is
  weakly $\leq k$-exact in degrees $\leq m$ and for $c\geq c_0'$ with bound $K$.
  For all $c\geq c_0'$, all $x\in C_{k²c}^i$ with $i\leq m$, all $ε > 0$ and all $δ > 0$
  there is some $y\in C_c^{i-1}$ such that
  \[
    ‖x_{|c} - dy‖ ≤  K ‖dx‖ + ε
    \quad \text{and} \quad
    ‖y‖ ≤ K(K + 1)‖x‖ + δ.
  \]
\end{lemma}

\begin{proof}
  Fix $x$, $ε$ and $δ$. The weak exactness assumption applied to $x$ and some $η$ to be chosen later gives us
  $w ∈ C_{kc}^{i-1}$ such that
  \[
    ‖x_{|kc} - dw‖ ≤  K ‖dx‖ + η.
  \]
  Then the weak exactness assumption applied to $w$ and some $τ$ to be chosen later gives us
  $z ∈ C_{c}^{i-2}$ such that
  \[
    ‖w_{|c} - dz‖ ≤  K ‖dw‖ + τ.
  \]
  We set $y = w_{|c} - dz$. Since $dy = dw_{|c}$, we get the first required estimate as long
  as $η ≤ ε$. And we have:
  \begin{align*}
    ‖y‖ &≤ K ‖dw‖ + τ \\
        &≤ K (‖x_{|kc}‖ + K‖dx‖ + η) + τ \\
        &≤ K(K + 1) ‖x‖ + Kη + τ
  \end{align*}
  which is fine as long as $Kη + τ ≤ δ$.
  So we set $η = \min(ε, δ/(2K))$ and $τ = δ/2$.
\end{proof}

\begin{lemma}
  \label{completion_is_weakexact}
  \uses{is_weak_bounded_exact, admissible}
  \lean{system_of_complexes.is_weak_bounded_exact.completion}
  Let $M^\bullet_c$ be an admissible collection
  of complexes of normed abelian groups, where $c\geq c_0$.

  Assume that $M^\bullet_c$ is weakly $\leq k$-exact in degrees $\leq m$ for $c\geq c_0$ with bound $K$.
  Then the completion $\overline{M^\bullet_c}$ is weakly $\leq k^2$-exact in degrees $\leq m$ for $c\geq c_0$ with bound $K$.
\end{lemma}

\begin{proof}
  \uses{is_weak_bdd_exact_controlled_y}
Let $x \in \overline{M^i_{k^2c}}$, where $c \geq c_0$ and $i \leq m$ and let $\epsilon > 0$.
We can write $x = \sum_j x^j$ where
\begin{itemize}
 \item $x^j \in M^i_{k^2c}$ for all $j \geq 0$,
 \item $‖x - x^0‖ ≤ ε_0$ for some positive $ε_0$ to be chosen later. This implies that $‖dx - dx^0‖ ≤ ε_0$ and
   in particular $‖dx^0‖ ≤ ‖dx‖ + ε_0$,
 \item $‖x^j‖ ≤ ε_j$ if $j > 0$, for some positive $ε_j$ to be chosen later. This implies $‖dx^j‖ ≤ ε_j$
   for all $j > 0$.
\end{itemize}

Using Lemma~\ref{is_weak_bdd_exact_controlled_y}, we get a sequence $y^j$ in $M^{i-1}_c$ such that
  \[
    ‖x^j_{|c} - dy^j‖ ≤  K ‖dx^j‖ + δ_j
    \quad \text{and} \quad
    ‖y^j‖ ≤ K(K + 1)‖x^j‖ + τ_j.
  \]
for positive sequences $δ$ and $τ$ to be chosen later.

Since $M^{i-1}_c$ is complete, the series $\sum y^j$ converges as soon as we can guarantee that
$\sum ‖y^j‖$ converges. Our estimates ensure this convergence as soon as the
sum of the $K(K + 1)ε_j + τ_j$ converges so here we only need $ε$ and $τ$ to be
summable.

We then set $y = ∑ y^j$ and compute:
\begin{align*}
  ‖x_{|c} - dy‖ &= \left\|∑_{j ≥ 0} x^j_{|c} - dy^j\right\| \\
    &≤ ∑_{j ≥ 0} \left\|x^j_{|c} - dy^j\right\| \\
    &≤ ∑_{j ≥ 0} K‖dx^j‖ + δ_j \\
    &≤ K‖dx‖ + Kε_0 + δ_0 +  ∑_{j > 0} (Kε_j + δ_j)
\end{align*}

So everything is fine as long as $∑_{j ≥ 0} (Kε_j + δ_j) ≤ ε$, say $ε_j = ε2^{-j-2}/K$ and $δ_j = ε2^{-j-2}$.
\end{proof}

\begin{lemma}
  \label{weakexact_implies_exact}
  \lean{system_of_complexes.is_weak_bounded_exact.strong_of_complete}
  \uses{is_weak_bounded_exact, is_bounded_exact, admissible}
  Let $M^\bullet_c$ be an admissible collection
  of complexes of complete normed abelian groups, where $c\geq c_0$.

  Assume that $M^\bullet_c$ is weakly $\leq k$-exact in degrees $\leq m$ for $c\geq c_0$ with bound $K$.
  Then $M^\bullet_c$, for every $δ > 0$, it is $\leq k^2$-exact in degrees $\leq m$ for $c\geq c_0$
  with bound $K+δ$.
\end{lemma}
\begin{proof}
  \uses{is_bounded_exact_of_weakly}
  Lemma~\ref{is_bounded_exact_of_weakly} ensures we only need to care about cocycles
  of $M$. More precisely, let $x$ be a cocycle in $M^i_{k^2c}$ for some $i ≤ m$ and $c ≥ c_0$.
  We need to find $y \in M^{i-1}_c$ such that $dy = x_{|c}$.

  By weak $\leq k$-exactness applied to $x$ and a sequence $ε_j$ to be chosen later, we can find
  a sequence $w^j \in M^{i-1}_{kc}$ such that
  \[
    ‖x_{kc} - dw^j‖ ≤ ε_j.
  \]
  Then, by weak $\leq k$-exactness applied to each $w^{j + 1} - w^j$ and a sequence $δ_j$ to be chosen later, we can find
  a sequence $z^j \in M^{i-2}_{c}$ such that
  \[
    ‖(w^{j+1} - w^j)_{|c} - dz^j‖ ≤ K‖dw^{j+1} - dw^j‖ + δ_j.
  \]
  We set $y^j := w^j_{|c} - \sum_{l=0}^{j-1} dz^l ∈ M^{i-1}_c$.


  We have
  \begin{align*}
    ‖y^{j + 1} - y^j‖ &=  \left\|(w^{j + 1} - w^j)_{|c} - dz^j\right\| \\
                      &≤  K‖dw^{j+1} - dw^j‖ + δ_j \\
                      &≤  2Kε_j + δ_j.
  \end{align*}
  So $y_j$ is a Cauchy sequence as long as we make sure $2Kε_j + δ_j ≤ 2^{-j}$ for instance.
  Since $M^{i-1}_c$ is complete, this sequence converges to some $y$.
  Because $dy^j = dw^j_{|c}$, we get that $‖x_{|c} - dy^j‖ ≤ ε_j$ and in the limit $x_{|c} = dy$.
\end{proof}

\begin{proposition}
  \label{weaksnakelemma}
  \leanok
  \lean{weak_normed_snake}
  \uses{is_weak_bounded_exact, admissible}
  Let $M^\bullet_c$ and $M'^\bullet_c$ be two admissible collections
  of complexes of complete normed abelian groups, where $c\geq c_0$.
  Let $f^\bullet_c: M^\bullet_c\to M'^\bullet_c$ be a collection of maps
  between these collections of complexes
  that is strictly compatible with the norm and commutes with restriction maps,
  and assume that it satisfies
  \[
    ‖x_{|c}‖ ≤ K''‖f(x)‖
  \]
  for all $i ≤ m+1$ and all $x\in M^i_{k''c}$.
  Let $N^\bullet_c=M'^\bullet_c/M^\bullet_c$
  be the collection of quotient complexes, with the quotient norm;
  this is again an admissible collection of complexes.

  Assume that $M^\bullet_c$ (resp. $M'^\bullet_c$) is weakly $\leq k$-exact
  (resp. $≤ k'$-exact) in degrees $\leq m$ for $c\geq c_0$ with bound $K$
  (resp. $K'$).
  Then $N^\bullet_c$ is weakly $\leq kk'k''$-exact in degrees $\leq m-1$ for $c\geq c_0$
  with bound $K'(KK'' + 1)$.
\end{proposition}

\begin{proof}
\leanok
\def\ndn{\left\|dn\right\|}
Let $n \in N^i_{kk'k''c}$ for $i\leq m-1$.
We fix $ε > 0$. We need to find an element $y \in N^{i-1}_c$ such that
\[
  ‖n_{|c} - dy‖ \leq K'(KK'' + 1)‖dn‖ + \epsilon.
\]

Pick any preimage $m' \in M'^i_{kk'k''c}$ of $n$. In particular $dm'$ is
a preimage of $dn$.
By definition of the quotient norm,
we can find $m₁ ∈ M^{i+1}_{kk'k''c}$ and $m₁'' ∈ (M')^{i+1}_{kk'k''c}$ such that
\[
dm' = f(m₁) + m₁''
\]
with $‖m₁''‖ \leq ‖dn‖ + ε_1$, for some positive $ε_1$ to be chosen later.

Applying the differential to the last displayed equation, and using that this
kills the image of $d$, and that $f$ is a map of complexes, we see that
\[
f(dm₁) = -dm₁''.
\]
Using the norm bound on $f$, we get
\[\begin{aligned}
  ‖dm_{1|kk'c}‖ &≤ K''‖f(dm₁)‖ = K''‖dm₁''‖\\
                &≤ K''‖m₁''‖ ≤ K''‖dn‖ + K''ε_1.
\end{aligned}\]
On the other hand, weak exactness of $M$ applied to $m_{1|kk'c}$
gives $m_0 ∈ M^i_{k'c}$ such that
\[
  ‖m_{1|kk'c|k'c} - dm_0‖ \leq K‖dm_{1|kk'c}‖ + ε_1
\]
which combines with the previous estimate to give:
\[
  ‖m_{1|k'c} - dm_0‖ \leq K K'' \left\|d n\right\| + (KK'' + 1)ε_1.
\]
Now let $m'_{\mathrm{new}} = m'_{|k'c} - f(m_0) \in M'^i_{k'c}$; this is a lift of $n_{|k'c}$.
Then
\[
dm'_{\mathrm{new}} = dm'_{|k'c} - f(m_{1|k'c}) + f(m_{1|k'c} - dm_0) = m''_{1|k'c} + f(m_{1|k'c} - dm_0).
\]
In particular,
\[
‖dm'_{\mathrm{new}}‖ ≤ (KK'' + 1)\ndn + (KK'' + 2) ε_1.
\]
Now weak exactness of $M'$ gives $x \in M'^{i-1}_c$ such that
\[
  ‖m'_{\mathrm{new}|c} - dx‖ ≤ K'‖dm'_\mathrm{new}‖ + ε_1 \leq
    K'((K K'' + 1) \ndn + (KK'' + 2) ε₁) + ε₁.
\]
In particular, letting $y \in N^{i-1}_c$ be the image of $x$, we get
\[
  ‖n_{|c} - dy‖ ≤ K'(K K'' + 1)\ndn + (K'(K  K'' + 2) + 1) ε_1,
\]
which exactly what we wanted if we choose
$ε_1 = ε/(K'(K  K'' + 2) + 1)$.
\end{proof}


\begin{proposition}
  \label{snakelemma}
  \uses{is_bounded_exact, admissible}
  Let $M^\bullet_c$ and $M'^\bullet_c$ be two admissible collections
  of complexes of complete normed abelian groups, where $c\geq c_0$.
  Let $f^\bullet_c: M^\bullet_c\to M'^\bullet_c$ be a collection of maps
  between these collections of complexes
  that is strictly compatible with the norm and commutes with restriction maps,
  and assume that it satisfies
  \[
    ‖x_{|c}‖ ≤ K''‖f(x)‖
  \]
  for all $i ≤ m+1$ and all $x\in M^i_{k''c}$.
  Let $N^\bullet_c=M'^\bullet_c/\overline{M^\bullet_c}$
  be the collection of quotient complexes, with the quotient norm;
  this is again an admissible collection of complexes.

  Assume that $M^\bullet_c$ (resp. $M'^\bullet_c$) is $\leq k$-exact
  (resp. $≤ k'$-exact) in degrees $\leq m$ for $c\geq c_0$ with bound $K$
  (resp. $K'$).
  Then, for every $δ > 0$, $N^\bullet_c$ is $\leq (kk'k'')²$-exact in
  degrees $\leq m-1$ for $c\geq c_0$
  with bound $K'(KK'' + 1) + δ$.
\end{proposition}

\begin{proof}
  \uses{weaksnakelemma, weakexact_implies_exact}
  The exactness assumptions on $M$ and $M'$ give the corresponding
  weak exactness condition. Hence Proposition~\ref{weaksnakelemma}
  ensures that $N^\bullet_c$ is weakly $\leq kk'k''$-exact in degrees
  $\leq m-1$ for $c\geq c_0$ with bound $K'(KK'' + 1)$.
  Since $N^\bullet_c$ is a complex of complete groups,
  Lemma~\ref{weakexact_implies_exact} gives the required exactness.
\end{proof}




\begin{proposition}
  \label{spectral}
  \uses{admissible}
  \uses{is_bounded_exact}
  Fix an integer $m\geq 0$ and a constant $k$.
  Then there exists an $\epsilon>0$ and a constant $k_0$,
  depending (only) on $k$ and $m$, with the following property.

  Consider an admissible system of double complexes $M^{p,q}_c$, $p,q\geq 0$, $c\geq c_0$,
  of complete normed abelian groups as well as some $k'\geq k_0$ and some $H>0$, such that
  \begin{center}
    \begin{tikzcd}
      M^{0,0}_c \ar[r]{d'^{0,0}_c}\ar[d]{d^{0,0}_c} & M^{0,1}_c\ar[r]{d'^{0,1}_c}\ar[d]{d^{0,1}_c} & M^{0,2}_c\ar[r]{d'^{0,2}_c}\ar[d]{d^{0,2}_c} & \ldots\\
  M^{1,0}_c\ar[r]{d'^{1,0}_c}\ar[d]{d^{1,0}_c} & M^{1,1}_c\ar[r]{d'^{1,1}_c}\ar[d]{d^{1,1}_c} & M^{1,2}_c\ar[r]{d'^{1,2}_c}\ar[d]{d^{1,2}_c} & \ldots\\
  M^{2,0}_c\ar[r]{d'^{2,0}_c}\ar[d]{d^{2,0}_c} & M^{2,1}_c\ar[r]{d'^{2,1}_c}\ar[d]{d^{2,1}_c} & \ddots\\
  \vdots & \vdots
    \end{tikzcd}
  \end{center}
  \begin{enumerate}
  \item for $j=0,\ldots,m$, the columns $M^{p,j}_c$ are $\leq k$-exact in degrees $\leq m$ for $c\geq c_0$;
  \item for $i=0,\ldots,m+1$, the rows $M^{i,q}_c$ are $\leq k$-exact in degrees $\leq m-1$ for $c\geq c_0$;
  \item for $q=0,\ldots,m$ and $c\geq c_0$, there is a map $h^q_{k'c}: M^{0,q+1}_{k'c}\to M^{1,q}_c$ with
  \[
  ‖h^q_{k'c}(x)‖_{M^{1,q}_c}\leq H‖x‖_{M^{0,q+1}_{k'c}}
  \]
  for all $x\in M^{0,q+1}_c$, and such that for all $c\geq c_0$ and $x\in M^{0,q}_{k'^2c}$, one has
  \begin{equation}\label{eq:homotopicmapsmall}
  ‖\mathrm{res}_{k'^2c,k'c}^{1,q}(d^{0,q}(x))\pm h^q_{k'^2c}(d'^{0,q}_{k'^2c}(x))\pm d'^{1,q-1}_{k'c}(h^{q-1}_{k'^2c}(x))‖_{M^{1,q}_{k'c}}\leq \epsilon ‖\mathrm{res}_{k'^2c,c}^{0,q}(x)‖_{M^{0,q}_c}.
  \end{equation}
  \end{enumerate}
  Then the first row is $\leq \max(k'^2,2k_0H)$-exact in degrees $\leq m$ for $c\geq c_0$.
\end{proposition}

We note that the bound on the homotopy is of a peculiar nature, in that the bound only depends on a deep restriction of $x$.

\begin{proof}
  \proves{spectral}
  \uses{snakelemma}
  First, we treat the case $m=0$.
  If $m=0$, we claim that one can take $\epsilon=\tfrac 1{2k}$ and $k_0=k$.
  We have to prove exactness at the first step.
  Let $x_{k'^2c}\in M^{0,0}_{k'^2c}$ and
  denote $x_{k'c}=\mathrm{res}_{k'^2c,k'c}^{0,0}(x)$
  and $x_c=\mathrm{res}_{k'^2c,c}^{0,0}(x)$.
  Then by assumption (1) (and $k'\geq k$), we have
  \[
  ‖x_c‖_{M^{0,0}_c}\leq k‖d^{0,0}_{k'c}(x_{k'c})‖_{M^{1,0}_{k'c}}.
  \]
  On the other hand, by (3),
  \[
  ‖\mathrm{res}_{k'^2c,k'c}^{1,0}(d^{0,0}_{k'^2c}(x))\pm h^0_{k'^2c}(d'^{0,0}_{k'^2c}(x))‖_{M^{1,0}_{k'c}}\leq \epsilon ‖x_c‖_{M^{0,0}_c}.
  \]
  In particular, noting that $\mathrm{res}_{k'^2c,k'c}^{1,0}(d^{0,0}_{k'^2c}(x)) = d^{0,0}_{k'c}(x_{k'c})$, we get
  \[
  ‖x_c‖_{M^{0,0}_c}\leq k‖d^{0,0}_{k'c}(x_{k'c})‖_{M^{1,0}_{k'c}}\leq k\epsilon ‖x_c‖_{M^{0,0}_c} + kH ‖d'^{0,0}_{k'^2c}(x)‖_{M^{0,1}_{k'^2c}}.
  \]
  Thus, taking $\epsilon=\tfrac 1{2k}$ as promised, this implies
  \[
  ‖x_c‖_{M^{0,0}_c}\leq 2kH ‖d'^{0,0}_{k'^2c}(x)‖_{M^{0,1}_{k'^2c}}.
  \]
  This gives the desired $\leq \max(k'^2,2k_0H)$-exactness in degrees $\leq m$ for $c\geq c_0$.

  Now we argue by induction on $m$.
  Consider the complex $N^{p,q}$ given by $M^{p,q+1}$ for $q\geq 1$
  and $N^{p,0} = M^{p,1}/\overline{M^{p,0}}$
  (the quotient by the closure of the image, which is also the completion of $M^{p,1}/M^{p,0}$),
  equipped with the quotient norm.
  Using the normed version of the snake lemma,
  Proposition~\ref{snakelemma} in the appendix to this lecture,
  one checks that this satisfies the assumptions for $m-1$,
  with $k$ replaced by $\max(k^4,k^3+k+1)$.
\end{proof}

\section{More Breen-Deligne}%
\label{sec:more_breen_deligne}


We need the following results about the Breen-Deligne resolution for normed abelian groups. Let us consider here abelian groups $M$ (in any topos) equipped with an increasing filtration $M_{\leq c}\subset M$ by subobjects indexed by the positive real numbers, such that $0\in M_{\leq c}$, $-M_{\leq c} = M_{\leq c}$ and $M_{\leq c}+M_{\leq c'}\subset M_{\leq c+c'}$; we need no further conditions. Let us call these pseudo-normed abelian groups.

Fix a choice of a functorial Breen-Deligne resolution
\[
C(M):\ldots \to \mathbb Z[M^{a_i}]\to\ldots\to\mathbb
Z[M^{a_1}]\to\mathbb Z[M^{a_0}]\to M\to 0
\]
of an abelian group $M$; purely for notational convenience, we can and do assume that each term is of the form $\mathbb Z[M^{a_i}]$ (as opposed to a finite direct sum of such). The possibility of doing this follows from the proof of \cite[Theorem 4.10]{Condensed}, noting that a functor of the form $A\mapsto \mathbb Z[A^n]\oplus \mathbb Z[A^m]$ admits a surjection from the functor $A\mapsto \mathbb Z[A^{n+m}]\oplus \mathbb Z$; this gives a resolution where all terms are of the form $\mathbb Z[A^{a_i}]\oplus \mathbb Z^m$. Now pass to the quotient of these complexes corresponding to the map $0\to A$; this gives a complex all of whose terms are of the form $\mathbb Z[A^{a_i}]/\mathbb Z$. Noting that $\mathbb Z[A^{a_i}]$ is functorially isomorphic to $\mathbb Z[A^{a_i}]/\mathbb Z\oplus \mathbb Z$ (via splitting $0\to A^{a_i}\to 0$), we can then add an acyclic complex of $\mathbb Z$'s in each degree to get a resolution all of whose terms are of the form $\mathbb Z[A^{a_i}]$.

%% \begin{lemma}\label{lem:constantsdeligne} There are universal constants $c_0=1,c_1,c_2,\ldots$ so that the Breen-Deligne resolution admits the subcomplex
%% \[
%% C(M)_{\leq c}: \ldots \to \mathbb Z[M^{a_i}_{\leq c_ic}]\to\ldots\to\mathbb
%% Z[M^{a_1}_{\leq c_1c}]\to\mathbb Z[M^{a_0}_{\leq c}]
%% \]
%% for all pseudo-normed abelian group objects in any topos as above, and all $c>0$.
%% \end{lemma}

%% \begin{proof} Each differential in the Breen-Deligne resolution is a finite sum of maps induced by maps $M^{a_{i+1}}\to M^{a_i}$ given by some $a_i\times a_{i+1}$-matrix of integers. Given $c_i$, one can thus find some $c_{i+1}$ so that $M^{a_{i+1}}_{\leq c_{i+1}c}$ maps into $M^{a_i}_{\leq c_ic}$ for each of those finitely many maps, which gives the claim.
%% \end{proof}

We also need some homotopies. More precisely, we start with the following homotopy.

\begin{lemma}\label{basehomotopy} For an abelian group $M$, the maps $\sigma_1,\sigma_2$ from
\[
C(M^2): \ldots \to \mathbb Z[M^{2a_i}]\to\ldots\to\mathbb Z[M^{2a_1}]\to\mathbb Z[M^{2a_0}]
\]
to
\[
C(M): \ldots \to \mathbb Z[M^{a_i}]\to\ldots\to\mathbb Z[M^{a_1}]\to\mathbb Z[M^{a_0}],
\]
induced by addition $M^2\to M$, respectively the sum of the two maps induced by two projections $M^2\to M$, are homotopic, via some functorial homotopy
\[
h_i: \mathbb Z[M^{2a_i}]\to \mathbb Z[M^{a_{i+1}}].
\]

If $M$ is a pseudo-normed abelian group object in any topos, then $\sigma_1$ and $\sigma_2$ are well-defined as maps of complexes from
\[
C(M^2)_{\leq c/2}: \ldots \to \mathbb Z[M^{2a_i}_{\leq c_ic/2}]\to\ldots\to\mathbb
Z[M^{2a_1}_{\leq c_1c/2}]\to\mathbb Z[M^{2a_0}_{\leq c/2}]
\]
to
\[
C(M)_{\leq c}: \ldots \to \mathbb Z[M^{a_i}_{\leq c_ic}]\to\ldots\to\mathbb
Z[M^{a_1}_{\leq c_1c}]\to\mathbb Z[M^{a_0}_{\leq c}]
\]
for all $c>0$. In that case, for all $i\geq 0$ there are universal constants $c_i'$ such that $h_i$ defines well-defined maps
\[
\mathbb Z[M^{2a_i}_{\leq c_ic/2}]\to \mathbb Z[M^{a_{i+1}}_{\leq
c_i'c_{i+1}c}]
\]
for all $c>0$.
\end{lemma}

\begin{proof} This is a consequence of the proof of the existence of the Breen-Deligne resolution, proved in the same way as \cite[Proposition 4.17]{Condensed}. The existence of the constants $c_i'$ is again formal, as in the last lemma.
\end{proof}

Now we need the following generalization to adding $N$ elements.

\begin{lemma}\label{homotopyNelements} Let $N$ be a power of $2$. The maps of complexes $\sigma_1,\sigma_2$ from
\[
C(M^N): \ldots \to \mathbb Z[M^{Na_i}]\to\ldots\to\mathbb Z[M^{Na_1}]\to\mathbb Z[M^{Na_0}]
\]
to
\[
C(M): \ldots \to \mathbb Z[M^{a_i}]\to\ldots\to\mathbb Z[M^{a_1}]\to\mathbb Z[M^{a_0}],
\]
induced by addition $M^N\to M$, respectively the sum of the $N$ maps induced by the $N$ projections $M^N\to M$, are homotopic, via some functorial homotopy
\[
h_i^N: \mathbb Z[M^{Na_i}]\to \mathbb Z[M^{a_{i+1}}]
\]
which moreover satisfies the following bound, with the same constants $c_0',c_1',\ldots$ as in the previous lemma:

If $M$ is a pseudo-normed abelian group object in any topos, then $\sigma_1$ and $\sigma_2$ are well-defined as maps of complexes from
\[
C(M^N)_{\leq c/N}: \ldots \to \mathbb Z[M^{Na_i}_{\leq c_ic/N}]\to\ldots\to\mathbb Z[M^{Na_1}_{\leq c_1c/N}]\to\mathbb Z[M^{Na_0}_{\leq c/N}]
\]
to
\[
C(M)_{\leq c}: \ldots \to \mathbb Z[M^{a_i}_{\leq c_ic}]\to\ldots\to\mathbb Z[M^{a_1}_{\leq c_1c}]\to\mathbb Z[M^{a_0}_{\leq c}]
\]
for all $c>0$. In that case, $h_i^N$ defines well-defined maps
\[
\mathbb Z[M^{Na_i}_{\leq c_ic/N}]\to \mathbb Z[M^{a_{i+1}}_{\leq c_i'c_{i+1}c}]
\]
for all $c>0$.
\end{lemma}

\begin{proof} Let $N=2^m$. For each $j=0,\ldots,m-1$, the two maps from $C(M^{2^{j+1}})$ to $C(M^{2^j})$ from the previous lemma are homotopic, and we use the homotopy from that lemma. Composing homotopies (which amounts concretely to a certain sum) we get the desired homotopy from $C(M^{2^m})$ to $C(M)$. It follows directly from this construction that the constants $c_i'$ are unchanged.
\end{proof}

\section{End of proof}

\begin{definition}
  \label{Mbar_system}
  \lean{Mbar_system}
  \leanok
  \uses{BD_suitable, Vhat_eval_Mbar_Tinv, system_of_complexes}
  Let $r, r' \in \mathbb R_{>0}$,
  and let $V$ be an $r$-normed $\mathbb Z[T^{\pm 1}]$-module.
  Assume $r' \le 1$.
  Let $S$ be a finite set.
  Let $(n,f,h)$ be a Breen--Deligne package,
  and let $c' = (c'_0, c'_1, c'_2, \dots)$ be a sequence of constants in $\mathbb R_{\ge 0}$
  that is $(n,f,h)$-suitable.

  For every $c \in \mathbb R_{\ge 0}$,
  the maps from Definition~\ref{Vhat_eval_Mbar_Tinv}
  induced by the universal maps $f_i$ from the Breen--Deligne package $(n,f,h)$
  assemble into a complex of normed abelian groups
  \[
    \dots \to
    \hat V(\overline{\mathcal M}_{r'}(S)_{\le c_i}^{n_i})^{T^{-1}}
    \to
    \hat V(\overline{\mathcal M}_{r'}(S)_{\le c_{i+1}}^{n_{i+1}})^{T^{-1}}
    \to \dots \to 0.
  \]
  Together, these complexes fit into a system of complexes
  with the natural restriction maps.
\end{definition}

Now we state the following result, which is our main goal.

\textbf{N.b.:}
It differs from Theorem~9.4 of \cite{Analytic} only in one aspect:
we assume that the sets $S$ are finite, rather than profinite.

\begin{theorem}
  \label{first_target}
  \lean{first_target}
  \leanok
  \uses{Mbar_system}
  Let $(n,f,h)$ be a Breen--Deligne package,
  and let $c' = (c'_0, c'_1, c'_2, \dots)$ be a sequence of constants in $\mathbb R_{\ge 0}$.
	Fix radii $1>r'>r>0$.
  For any $m$ there is some $k$ and $c_0$ such that for all finite sets $S$ and all $r$-normed $\mathbb Z[T^{\pm 1}]$-modules $V$,
  the system of complexes
  \[
    C_c^\bullet \colon
    \widehat{V}(\overline{\mathcal M}_{r'}(S)_{\leq c})^{T^{-1}} \to
    \widehat{V}(\overline{\mathcal M}_{r'}(S)_{\leq c'_1c}^2)^{T^{-1}}
    \to \ldots
  \]
  is $\leq k$-exact in degrees $\leq m$ for $c\geq c_0$.
\end{theorem}

\begin{remark}
  \label{boundary-text}
  \textbf{Note: the text below is copied almost verbatim from \cite{Analytic}.
  Small parts have been formalized.
  We expect that the text will be rewritten and expanded as the formalization project progresses.}
\end{remark}

% Let us first check that this implies Theorem~\ref{explicit1}.

% \begin{proof}[Theorem~\ref{first_target} implies Theorem~\ref{explicit1}] By the preceding discussion, one can compute
% \[
% R\Hom_{\mathbb Z[T^{-1}]}(\overline{\mathcal M}_{r'}(S),\widehat{V})
% \]
% as the derived inverse limit of $C_c^\bullet$ over all $c>0$; equivalently, all $c\geq c_0$. Theorem~\ref{first_target} implies that for any $m\geq 0$ the pro-system of cohomology groups $H^m(C_c^\bullet)$ is pro-zero (as $H^m(C_{kc}^\bullet)\to H^m(C_c^\bullet)$ is zero). Thus, the derived inverse limit vanishes, as desired.
% \end{proof}

% We remark that Theorem~\ref{first_target} reduces formally to the case that $S$ is finite; we make this reduction.

We will prove Theorem~\ref{first_target} by induction on $m$.
Unfortunately, the induction requires us to prove a stronger statement.
Before stating it, we need another definition.

\begin{definition}
  \label{polyhedral_lattice}
  \lean{polyhedral_lattice}
  A \emph{polyhedral lattice} is a finite free abelian group~$\Lambda$
  equipped with a norm $‖\cdot‖_\Lambda \colon \Lambda\otimes \mathbb R\to \mathbb R$
  (so $\Lambda\otimes \mathbb R$ is a Banach space)
  that is given by the supremum of finitely many linear functions on $\Lambda$ with rational coefficients;
  equivalently, the ``unit ball''
  $\{\lambda\in \Lambda\otimes \mathbb R\mid ‖\lambda‖_\Lambda\leq 1\}$ is a rational polyhedron.
\end{definition}

Endow $\Hom(\Lambda,\overline{\mathcal M}_{r'}(S))$ with the subspaces
\[
\Hom(\Lambda,\overline{\mathcal M}_{r'}(S))_{\leq c} = \{f: \Lambda\to \overline{\mathcal M}_{r'}(S)\mid \forall x\in \Lambda, f(x)\in \overline{\mathcal M}_{r'}(S)_{\leq c‖x‖}\}.
\]
As $\Lambda$ is polyhedral, it is enough to check the given condition for finitely many $x$.

% We can then define double complexes like \eqref{eq:doublecomplex}.
% Lemma~\ref{lem:Tinv} stays true with the same constants.
Now we claim the following generalization of Theorem~\ref{first_target}.

\begin{theorem}
  \label{explicit}
  \uses{polyhedral_lattice}
  Fix radii $1>r'>r>0$. For any $m$ there is some $k$
  such that for all polyhedral lattices $\Lambda$
  there is a constant $c_0(\Lambda)>0$
  such that for all finite sets $S$
  and all $r$-normed $\mathbb Z[T^{\pm 1}]$-modules $V$,
  the system of complexes
  \[
  C_{\Lambda,c}^\bullet \colon
  \widehat{V}(\Hom(\Lambda,\overline{\mathcal M}_{r'}(S))_{\leq c})^{T^{-1}} \to
  \widehat{V}(\Hom(\Lambda,\overline{\mathcal M}_{r'}(S))_{\leq c_1c}^2)^{T^{-1}} \to \ldots
  \]
  is $\leq k$-exact in degrees $\leq m$ for $c\geq c_0(\Lambda)$.
\end{theorem}

\begin{proof}
  \proves{first_target}
  \uses{explicit}
  Use $\Lambda = \mathbb Z$, and the isomorphism $\Hom(\mathbb Z, A) \cong A$.
\end{proof}

We note that the constants $c_1,c_2,\ldots$ implicit in the choice of the complex
are chosen once and for all (after fixing $r$ and $r'$),
and it can be ensured that the transition maps in the complex are norm-nonincreasing.
Indeed, if the $c_i$ are suitable as in Definition~\ref{BD_suitable},
the maps
\[
\widehat{V}(\Hom(\Lambda,\overline{\mathcal M}_{r'}(S))_{\leq c_ic}^{a_i})\to \widehat{V}(\Hom(\Lambda,\overline{\mathcal M}_{r'}(S))_{\leq c_{i+1}c}^{a_{i+1}})
\]
will have bounded norm, independently of $V$ (as they are a certain universal finite sum of maps induced by maps between the profinite sets in paranthesis, each of which induces a map of norm bounded by $1$), so on the subspace of $T^{-1}$-invariants, one can shrink the norm down to $1$ by shrinking $c_{i+1}$. We make and fix this choice of the $c_i$ for the statement of Theorem~\ref{explicit}, and the rest of the proof.


Finally, we can prove the key combinatorial lemma,
ensuring that any element of $\Hom(\Lambda,\overline{\mathcal M}_{r'}(S))$
can be decomposed into $N$ elements whose norm is roughly $\tfrac 1N$ of the original element.
As preparation, we have the following simple result.

\begin{lemma}
  \label{combi_aux}
  \lean{lem97}
  \leanok
  Let $\Lambda$ be a finite free abelian group,
  let $N$ be a positive integer,
  and let $\lambda_1,\ldots,\lambda_m\in \Lambda$ be elements.
  Then there is a finite subset $A\subset \Lambda^\vee$
  such that for all $x\in \Lambda^\vee=\Hom(\Lambda,\mathbb Z)$
  there is some $x'\in A$ such that $x-x'\in N\Lambda^\vee$
  and for all $i=1,\ldots,m$,
  the numbers $x'(\lambda_i)$ and $(x-x')(\lambda_i)$ have the same sign,
  i.e.~are both nonnegative or both nonpositive.
\end{lemma}

\begin{proof}
  It suffices to prove the statement for all $x$ such that $\lambda_i(x)\geq 0$ for all $i$;
  indeed, applying this variant to all $\pm \lambda_i$, one gets the full statement.

  Thus, consider the submonoid $\Lambda^\vee_+\subset \Lambda^\vee$
  of all $x$ that pair nonnegatively with all $\lambda_i$.
  This is a finitely generated monoid by standard results;
  let $y_1,\ldots,y_M$ be a set of generators.
  Then we can take for $A$ all sums $n_1y_1+\ldots+n_My_M$ where all $n_j\in \{0,\ldots,N-1\}$.
\end{proof}

Now we have the key lemma:

\begin{lemma}
  \label{combi}
  \lean{lem98}
  \leanok
  \uses{polyhedral_lattice}
  Let $\Lambda$ be a polyhedral lattice.
  Then for all positive integers $N$ there is a constant $d$
  such that for all $c>0$ one can write any
  $x\in \Hom(\Lambda,\overline{\mathcal M}_{r'}(S))_{\leq c}$ as
  \[
    x=x_1+\ldots+x_N
  \]
  where all $x_i\in \Hom(\Lambda,\overline{\mathcal M}_{r'}(S))_{\leq c/N+d}$.
\end{lemma}

\begin{proof}
  \proves{combi}
  \uses{combi_aux}
  Pick $\lambda_1,\ldots,\lambda_m\in \Lambda$ generating the norm. We fix a finite subset $A\subset \Lambda^\vee$ satisfying the conclusion of the previous lemma. Write
  \[
  x=\sum_{n\geq 1, s\in S} x_{n,s} T^n [s]
  \]
  with $x_{n,s}\in \Lambda^\vee$. Then we can decompose
  \[
  x_{n,s} = N x_{n,s}^0 + x_{n,s}^1
  \]
  where $x_{n,s}^1\in A$ and we have the same-sign property of the last lemma. Letting $x^0 = \sum_{n\geq 1, s\in S} x_{n,s}^0 T^n [s]$, we get a decomposition
  \[
  x = Nx^0 + \sum_{a\in A} a x_a
  \]
  with $x_a\in \overline{\mathcal M}_{r'}(S)$ (with the property that in the
  basis given by the $T^n [s]$, all coefficients are $0$ or $1$). Crucially,
  we know that for all $i=1,\ldots,m$, we have
  \[
  ‖x(\lambda_i)‖ = N ‖x^0(\lambda_i)‖ + \sum_{a\in A} |a(\lambda_i)| ‖x_a(\lambda_i)‖
  \]
  by using the same sign property of the decomposition.

  Using this decomposition of $x$, we decompose each term into $N$ summands.
  This is trivial for the first term $Nx^0$,
  and each summand of the second term reduces to the similar problem for $\Lambda=\mathbb Z$.
  In that case, one can take $d=1$,
  as follows by decomposing any sum with terms of size at most $1$
  into $N$ such partial sums whose sums differ by at most $1$.
  (It follows that in general one can take for $d$
  the supremum over all $i$ of $\sum_{a\in A} |a(\lambda_i)|$.)
\end{proof}



\begin{proof}[Proof of Theorem~\ref{explicit}]
\proves{explicit}
\uses{spectral,combi,basehomotopy,homotopyNelements}
  We argue by induction on $m$, so assume the result for $m-1$
  (this is no assumption for $m=0$, so we do not need an induction start).
  This gives us some $k>1$ for which the statement of Theorem~\ref{explicit} holds true for $m-1$;
  if $m=0$, simply take any $k>1$.
  In the proof below, we will increase $k$ further in a way that depends only on $m$ and $r$.
  After this modified choice of $k$, we fix $\epsilon$ and $k_0$ as provided by Proposition~\ref{spectral}.
  Moreover, we let $k'$ be the supremum of $k_0$ and the $c_i'$ from
  Lemma~\ref{basehomotopy} (and~\ref{homotopyNelements}) for $i=0,\ldots,m$.
  Finally, choose a positive integer $b$ so that $2k'(\tfrac r{r'})^b\leq \epsilon$,
  and let $N$ be the minimal power of $2$ that satisfies
\[
k'/N\leq (r')^b.
\]
Then in particular $r^bN\leq \frac 2{k'}(\tfrac{r}{r'})^b\leq \epsilon$.

We consider the diagonal embedding
\[
\Lambda\hookrightarrow \Lambda' = \Lambda^N,
\]
where we endow $\Lambda'$ with the norm
\[
‖(\lambda_1,\ldots,\lambda_N)‖_{\Lambda'} = \tfrac 1N(‖\lambda_1‖_\Lambda+\ldots+‖\lambda_N‖_\Lambda).
\]
For any $m\geq 1$, let $\Lambda'^{(m)}$ be given by $\Lambda'^m / \Lambda\otimes (\mathbb Z^m)_{\sum=0}$; then $\Lambda'^{(\bullet)}$ is cosimplicial polyhedral lattice, the \v{C}ech conerve of $\Lambda\to \Lambda'$. For $m=0$, we set $\Lambda'^{(0)} = \Lambda$. It is clear that all of these are polyhedral lattices.

In particular, for any $c>0$, we have
\[
\Hom(\Lambda'^{(m)},\overline{\mathcal M}_{r'}(S))_{\leq c} = \Hom(\Lambda',\overline{\mathcal M}_{r'}(S))_{\leq c}^{m/\Hom(\Lambda,\overline{\mathcal M}_{r'}(S))_{\leq c}},
\]
the $m$-fold fibre product of $\Hom(\Lambda',\overline{\mathcal M}_{r'}(S))_{\leq c}$ over $\Hom(\Lambda,\overline{\mathcal M}_{r'}(S))_{\leq c}$; and
\[
\Hom(\Lambda',\overline{\mathcal M}_{r'}(S))_{\leq c} = \Hom(\Lambda,\overline{\mathcal M}_{r'}(S))_{\leq c/N}^N,
\]
with the map to $\Hom(\Lambda,\overline{\mathcal M}_{r'}(S))_{\leq c}$ given by the sum map.

Consider the collection of double complexes $C_{\Lambda'^{(\bullet)},c}^\bullet$ associated to this cosimplicial polyhedral lattice by Dold-Kan. Up to rescaling the norms in the complex for $\Lambda'^{(m)}$ by a universal constant (something like $(m+2)!$), the differentials are strictly compatible with norms (as they are an alternating sum of $m+1$ face maps, all of which are of norm $\leq 1$), so this collection of normed double complexes is admissible. By induction, the first condition of Proposition~\ref{spectral} is satisfied for all $c\geq c_0$ with $c_0$ large enough (depending on $\Lambda$ but not $V$ or $S$). By Lemma~\ref{combi}, and noting that $\Hom(\Lambda'^{(\bullet)},\overline{\mathcal M}_{r'}(S))_{\leq c}$ is the \v{C}ech nerve of
\[
\Hom(\Lambda,\overline{\mathcal M}_{r'}(S))_{\leq c/N}^N\xrightarrow{\sum} \Hom(\Lambda,\overline{\mathcal M}_{r'}(S))_{\leq c},
\]
also the second condition is satisfied, with $k$ the maximum of the previous $k$ and some constant depending only on $m$ and $r$, provided we take $c_0$ large enough so that $(k-1)r'c_ic_0/N$ is at least the $d$ of Lemma~\ref{combi} for all $i=0,\ldots,m$ (so this choice of $c_0$ again depends on $\Lambda$). Indeed, then one can splice a surjection of profinite sets between the maps
\[
\Hom(\Lambda,\overline{\mathcal M}_{r'}(S))_{\leq c_ic/N}^{Na}\to\Hom(\Lambda,\overline{\mathcal M}_{r'}(S))_{\leq c_ic}^a
\]
and
\[
\Hom(\Lambda,\overline{\mathcal M}_{r'}(S))_{\leq kc_ic/N}^{Na}\to \Hom(\Lambda,\overline{\mathcal M}_{r'}(S))_{\leq kc_ic}^a,
\]
and so the transition map between the columns of that double complex factors over a similar complex arising from a simplicial hypercover of profinite sets, so the constants are bounded by Proposition~\ref{prop:normedcompletion},
	% Lemma~\ref{lem:Tinv},
	and Proposition~\ref{snakelemma}
	(plus probably some other results of which we need to work out the details).
	At this point, we have finalized our choice of $k$ (and, as promised, this choice depended only on $m$ and $r$), and so we also finalized the constants $\epsilon$, $k'$ and $N$ from the first paragraph of the proof.

Finally, to check the third condition, we use Lemma~\ref{homotopyNelements} to find, in degrees $\leq m$, a homotopy between the two maps from the first row
\[
\widehat{V}(\Hom(\Lambda,\overline{\mathcal M}_{r'}(S))_{\leq c})^{T^{-1}}\to \widehat{V}(\Hom(\Lambda,\overline{\mathcal M}_{r'}(S))_{\leq c_1c}^2)^{T^{-1}}\to \ldots
\]
to the second row
\[
\widehat{V}(\Hom(\Lambda,\overline{\mathcal M}_{r'}(S))_{\leq c/N}^N)^{T^{-1}}\to \widehat{V}(\Hom(\Lambda,\overline{\mathcal M}_{r'}(S))_{\leq c_1c/N}^{2N})^{T^{-1}}\to \ldots
\]
respectively induced by the addition $\Hom(\Lambda,\overline{\mathcal M}_{r'}(S))_{\leq c/N}^N\to \Hom(\Lambda,\overline{\mathcal M}_{r'}(S))_{\leq c}$ (which is the map that forms part of the double complex), and the map that is the sum of the $N$ maps induced by the $N$ projection maps
\[
\Hom(\Lambda,\overline{\mathcal M}_{r'}(S))_{\leq c/N}^N\to \Hom(\Lambda,\overline{\mathcal M}_{r'}(S))_{\leq c/N}\subset \Hom(\Lambda,\overline{\mathcal M}_{r'}(S))_{\leq c}.
\]
By Lemma~\ref{homotopyNelements}, we can find this homotopy between the complex for $k'c$ and the complex for $c$, by our choice of $k'\geq c_i'$ for $i=0,\ldots,m$. As $N$ is fixed, the homotopy is the universal homotopy from Lemma~\ref{homotopyNelements}, and in particular its norm is bounded by some universal constant $H$.

Finally, it remains to establish the estimate \eqref{eq:homotopicmapsmall} on the homotopic map. We note that this takes $x\in \widehat{V}(\Hom(\Lambda,\overline{\mathcal M}_{r'}(S))_{\leq k'^2c_ic}^{a_i})^{T^{-1}}$ (with $i=q$ in the notation of \eqref{eq:homotopicmapsmall}) to the element
\[
y\in \widehat{V}(\Hom(\Lambda,\overline{\mathcal M}_{r'}(S))_{\leq k'c_ic/N}^{Na_i})^{T^{-1}}
\]
that is the sum of the $N$ pullbacks along the $N$ projection maps $\Hom(\Lambda,\overline{\mathcal M}_{r'}(S))_{\leq k'c_ic/N}^{Na_i}\to \Hom(\Lambda,\overline{\mathcal M}_{r'}(S))_{\leq k'^2c_ic}^{a_i}$. We note that these actually take image in $\Hom(\Lambda,\overline{\mathcal M}_{r'}(S))_{\leq c_ic}^{a_i}$ as $N\geq k'$, so this actually gives a well-defined map
\[
\widehat{V}(\Hom(\Lambda,\overline{\mathcal M}_{r'}(S))_{\leq c_ic}^{a_i})^{T^{-1}}\to \widehat{V}(\Hom(\Lambda,\overline{\mathcal M}_{r'}(S))_{\leq k'c_ic/N}^{Na_i})^{T^{-1}}.
\]
We need to see that this map is of norm $\leq \epsilon$. Now note that by our choice of $N$, we actually have $k'c_ic/N\leq (r')^b c_ic$, so this can be written as the composite of the restriction map
\[
\widehat{V}(\Hom(\Lambda,\overline{\mathcal M}_{r'}(S))_{\leq c_ic}^{a_i})^{T^{-1}}\to \widehat{V}(\Hom(\Lambda,\overline{\mathcal M}_{r'}(S))_{\leq (r')^b c_ic}^{a_i})^{T^{-1}}
\]
and
\[
\widehat{V}(\Hom(\Lambda,\overline{\mathcal M}_{r'}(S))_{\leq (r')^b c_ic}^{a_i})^{T^{-1}}\to \widehat{V}(\Hom(\Lambda,\overline{\mathcal M}_{r'}(S))_{\leq k'c_ic/N}^{Na_i})^{T^{-1}}.
\]
The first map has norm exactly $r^b$, by $T^{-1}$-invariance, and as multiplication by $T$ scales the norm with a factor of $r$ on $\widehat{V}$.\footnote{Here is where we use $r'>r$, ensuring different scaling behaviour of the norm on source and target.} The second map has norm at most $N$ (as it is a sum of $N$ maps of norm $\leq 1$). Thus, the total map has norm $\leq r^bN$. But by our choice of $N$, we have $r^bN\leq \epsilon$, giving the result.

Thus, we can apply Proposition~\ref{spectral}, and get the desired $\leq \max(k'^2,2k_0H)$-exactness in degrees $\leq m$ for $c\geq c_0$, where $k'$, $k_0$ and $H$ were defined only in terms of $k$, $m$, $r'$ and $r$, while $c_0$ depends on $\Lambda$ (but not on $V$ or $S$). This proves the inductive step.
\end{proof}

\begin{question} Can one make the constants explicit, and how large are they?\footnote{A back of the envelope calculation seems to suggest that $k$ is roughly doubly exponential in $m$, and that $N$ has to be taken of roughly the same magnitude.} Modulo the Breen-Deligne resolution, all the arguments give in principle explicit constants; and actually the proof of the existence of the Breen-Deligne resolution should be explicit enough to ensure the existence of bounds on the $c_i$ and $c_i'$.
\end{question}

This completes the proof of all results announced so far.



\section{Relevant material that should move to a better place}

We often use the following exactness property:

\begin{proposition}\label{prop:completeexact} Let $M'\xrightarrow{f} M\xrightarrow{g} M''$ be maps of normed abelian groups with $gf=0$ and such that for all $m\in \ker(M\to M'')$ there is some $m'\in M'$ with $f(m')=m$ with $||m'||\leq C||m||$.

Then $\widehat{M'}\xrightarrow{\widehat{f}} \widehat{M}\xrightarrow{\widehat{g}} \widehat{M''}$ satisfy $\widehat{g}\widehat{f}=0$ and for all $m\in \ker(\widehat{M}\to \widehat{M''})$ and all $\epsilon>0$ there is some $m'\in \widehat{M'}$ with $\widehat{f}(\widehat{m'})=\widehat{m}$ and $||m'||\leq (C+\epsilon)||m||$.
\end{proposition}

\begin{proof} One can write any element $m\in \widehat{M}$ as a sum $m_0+m_1+\ldots$ with $m_i\in M$ and $||m_i||\leq \epsilon_i$ for $i>0$ for any given sequence of positive numbers $\epsilon_1\geq \epsilon_2\geq \ldots$. Indeed, we can inductively choose the $m_i$ so that $||m-m_0-\ldots-m_i||\leq \tfrac 12 \epsilon_{i+1}$, in which case $||m_i||\leq \tfrac 12(\epsilon_i+\epsilon_{i+1})\leq \epsilon_i$. Taking the sequence of $\epsilon_i$'s sufficiently small so that $\sum_{i>0} \epsilon_i\leq \tfrac {||m||}{2C} \epsilon$, we can lift all $m_i$ to $m_i'$ with $||m_i'||\leq C||m_i||$, and then $m'=m_0'+m_1'+\ldots$ satisfies
\[
||m'||\leq ||m_0'||+C\sum_{i>0} \epsilon_i\leq C||m_0||+C\sum_{i>0} \epsilon_i\leq C||m||+2C\sum_{i>0} \epsilon_i\leq (C+\epsilon)||m||.
\]
\end{proof}

\begin{definition}
	\label{hat}
	Let $M$ be a normed abelian group.
	Let $\widehat{M}$ be the condensed abelian group
	taking any profinite $S$
	to the completion of the normed abelian group
	of locally constant maps from $S$ to $M$ (equipped with the supremum norm).
\end{definition}

We note that implicit here is that this actually is a condensed abelian group.

\begin{proposition}\label{prop:normedcompletion} The condensed abelian group $\widehat{M}$ is canonically identified with the condensed abelian group associated to the topological abelian group $\widehat{M}_{\mathrm{top}}$ given by the completion of $M$ equipped with the topology induced by the norm. The norm defines a natural map of condensed sets
\[
||\cdot||: \widehat{M}\to \mathbb R_{\geq 0}.
\]

Moreover, for any hypercover $S_\bullet\to S$ of a profinite set $S$ by profinite sets $S_i$, the complex
\[
0\to \widehat{M}(S)\to \widehat{M}(S_0)\to \widehat{M}(S_1)\to \ldots
\]
is exact, and whenever $f\in \ker(\widehat{M}(S_m)\to \widehat{M}(S_{m+1}))$ with $||f||\leq c$, then for any $\epsilon>0$ there is some $g\in \widehat{M}(S_{m-1})$ with $||g||\leq (1+\epsilon)c$ such that $d(g)=f$.
\end{proposition}

\begin{proof} For the final assertion, follow the proof of \cite[Theorem 3.3]{Condensed}: When $S$ and all $S_i$ are finite, the hypercover splits, so a contracting homotopy gives the result with constant $1$. In general, write the hypercover as a cofiltered limit of hypercovers of finite sets by finite sets, pass to the filtered colimit, and complete, using Proposition~\ref{prop:completeexact}.

For the identification with the condensed abelian group associated to the topological abelian group $\widehat{M}_{\mathrm{top}}$, note that in the supremum norm any continuous function from $S$ to $\widehat{M}_{\mathrm{top}}$ can be approximated by locally constant functions arbitrarily well, and that the space of continuous functions from $S$ to $\widehat{M}_{\mathrm{top}}$ is complete with respect to the supremum norm. That $||\cdot||$ defines a map of condensed sets $\widehat{M}\to \mathbb R_{\geq 0}$ follows for example from this identification with $\underline{\widehat{M}_{\mathrm{top}}}$, as the norm is by definition a continuous map $\widehat{M}_{\mathrm{top}}\to \mathbb R_{\geq 0}$.
\end{proof}










